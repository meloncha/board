<!-- views/posts/index.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %> 
</head>
<body>
    <%- include('../partials/nav') %> 
    <div class = "container mb-3">
        <h2 class = "mb-3">Board</h2>
        <table class = "board-table table table-sm border-bottom">
            <thead class = "thead-light">
                <tr>
                    <th scope = "col">Title</th>
                    <th scope = "col" class = "date">Date</th>
                </tr>

            </thead>
            <tbody>
                <% if (posts == null || posts.length == 0){ %> 
                    <tr>
                        <td colspan = 2> There is no data to show : ( </td>
                    </tr>
                <% } %>     
                <% posts.forEach( post => { %>
                    <tr>
                        <td>
                            <a href="/posts/<%= post._id %>">
                                <div class = "ellipsis"><%= post.title %></div></a>
                        </td>
                        <td class = "date">
                            <span data-date="<%= post.createdAt %>"></span>
                        </td>
                    </tr>
                <% }) %> 
            </tbody>

        </table>
        <div>
            <a href="/posts/new" class = "btn btn-primary">New</a>
        </div>
    </div>
</body>
</html>

<!-- 
    Post의 index를 table로 표시합니다
    data-date가 <span> element에 사용되었습니다. public/js/script.js에 의해
    post.createAt, 즉 게시물 작성시간이 '년-월-일'의 형태로 출력됩니다.

-->